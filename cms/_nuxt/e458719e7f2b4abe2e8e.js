(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{174:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},175:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={data:function(){return{urlAPI:"https://arcane-sea-21496.herokuapp.com/"}}}},176:function(e,t,n){var content=n(186);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(35).default)("01030f18",content,!0,{sourceMap:!1})},177:function(e,t,n){var content=n(188);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(35).default)("0aeac954",content,!0,{sourceMap:!1})},184:function(e,t,n){"use strict";n(36);var r=n(174);function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n.d(t,"a",function(){return c});var c=function(){function e(data){if(Object(r.a)(this,e),!data)return{name:null,description:null,image:null};this.id=data.id,this.name=data.name?data.name.trim():null,this.description=data.description?data.description.trim():null,this.image=data.image?data.image:null}var t,n,c;return t=e,(n=[{key:"forProduct",value:function(){return{id:this.id,name:this.name}}}])&&o(t.prototype,n),c&&o(t,c),e}()},185:function(e,t,n){"use strict";var r=n(176);n.n(r).a},186:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".category[data-v-5b58b6c2]{background-size:cover;background-position:50%}",""])},187:function(e,t,n){"use strict";var r=n(177);n.n(r).a},188:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".category-list{display:grid;grid-gap:1rem;-webkit-box-pack:center;justify-content:center;grid-template-columns:repeat(auto-fit,minmax(12rem,20rem))}",""])},201:function(e,t,n){"use strict";n.r(t);var r=n(13),o=(n(36),n(52),n(53),n(38),n(37),n(5)),c=n(68),l=n.n(c),d=n(184),m={props:{CategoryData:{type:Object,required:!0},editable:{type:Boolean,required:!1,default:!0}},data:function(){return{category:this.CategoryData,categoryEdit:Object(r.a)({},this.CategoryData),editing:!1}},watch:{CategoryData:function(e){this.category=e}},methods:{cancelEditing:function(){this.category=Object(r.a)({},this.categoryEdit),this.editing=!1},updateCategory:function(){this.$emit("update",this.category),this.editing=!1,this.categoryEdit=Object(r.a)({},this.category)},deleteCategory:function(){this.$emit("delete",this.category.id)}}},y=(n(185),n(19)),f=Object(y.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"bg-white w-full inline-flex flex-col border-solid border-2 border-gray-500 rounded-lg"},[n("div",{staticClass:"w-full category",class:{"h-32":e.category.image},style:e.category.image?"background-image: url("+e.category.image+");  ":"none"}),e._v(" "),n("span",{staticClass:"border-solid border-2 rounded-lg text-center  mx-2 p-2 bg-gray-400",class:{"-mt-6":e.category.image}},[e._v(e._s(e.category.name||"No name"))]),e._v(" "),n("p",{staticClass:"p-2"},[e._v(e._s(e.category.description||"No description"))]),e._v(" "),!e.editing&&e.editable?n("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold m-2 py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer",on:{click:function(t){e.editing=!0}}},[e._v("Edit")]):e._e(),e._v(" "),e.editing?n("div",{staticClass:"p-2"},[n("label",{staticClass:"md:w-1/2 px-2 text-gray-700 text-sm font-bold mb-2"},[e._v("\r\n        Name\r\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.category.name,expression:"category.name"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"text",placeholder:"Name of the category"},domProps:{value:e.category.name},on:{input:function(t){t.target.composing||e.$set(e.category,"name",t.target.value)}}})]),e._v(" "),n("label",{staticClass:"md:w-1/2 px-2 text-gray-700 text-sm font-bold mb-2"},[e._v("\r\n        Description\r\n        "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.category.description,expression:"category.description"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{placeholder:"Description of the category"},domProps:{value:e.category.description},on:{input:function(t){t.target.composing||e.$set(e.category,"description",t.target.value)}}})]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.category.image,expression:"category.image"}],staticClass:"w-full",attrs:{type:"text"},domProps:{value:e.category.image},on:{input:function(t){t.target.composing||e.$set(e.category,"image",t.target.value)}}}),e._v(" "),n("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold my-2 py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer",on:{click:e.updateCategory}},[e._v("OK")]),e._v(" "),n("button",{staticClass:"bg-red-500 hover:bg-red-700 text-white font-bold my-2 py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer",on:{click:e.cancelEditing}},[e._v("Cancel")])]):e._e(),e._v(" "),e.editable?n("button",{staticClass:"bg-red-700 hover:bg-red-800 text-white p-2 rounded m-2",on:{click:e.deleteCategory}},[e._v("Delete this category")]):e._e()])])},[],!1,null,"5b58b6c2",null).exports,h={mixins:[n(175).a],components:{Category:f},data:function(){return{categories:[],newCategory:new d.a}},computed:{categoryMessage:function(){return this.categories.length>0?"These are the categories available":"There are no categories yet! Start creating some 👇"}},mounted:function(){this.getCategories()},methods:{getCategories:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t,n,r,o,c,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("".concat(this.urlAPI,"categories"));case 2:for(t=e.sent,n=!0,r=!1,o=void 0,e.prev=6,c=t.data.results[Symbol.iterator]();!(n=(m=c.next()).done);n=!0)y=m.value,this.categories.push(new d.a(y));e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),r=!0,o=e.t0;case 14:e.prev=14,e.prev=15,n||null==c.return||c.return();case 17:if(e.prev=17,!r){e.next=20;break}throw o;case 20:return e.finish(17);case 21:return e.finish(14);case 22:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])}));return function(){return e.apply(this,arguments)}}(),createCategory:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:this.newCategory.name,description:this.newCategory.description,image:this.newCategory.image},e.next=3,l.a.post("".concat(this.urlAPI,"categories"),{params:t});case 3:(n=e.sent).data.success&&(this.categories.push(new d.a(Object(r.a)({},t,{id:n.data.id}))),this.newCategory=new d.a);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),updateCategory:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t.name,description:t.description,image:t.image},e.next=3,l.a.put("".concat(this.urlAPI,"category/").concat(t.id),n);case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteCategory:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("".concat(this.urlAPI,"category/").concat(t));case 2:for(n=e.sent,console.log(n),i=0;i<this.categories.length;i++)this.categories[i].id===t&&this.categories.splice(i,1);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},v=(n(187),{data:function(){return{}},components:{"category-list":Object(y.a)(h,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container mx-auto my-8 px-4"},[n("h2",{staticClass:"bg-blue-200 my-2 text-center text-xl rounded-lg p-2 font-bold"},[e._v(e._s(e.categoryMessage))]),e._v(" "),n("section",{staticClass:"category-list"},e._l(e.categories,function(t){return n("category",{key:t.id,attrs:{"category-data":t},on:{delete:e.deleteCategory,update:e.updateCategory}})}),1),e._v(" "),n("p",{staticClass:"bg-blue-200 my-2 text-center rounded-lg p-2 font-bold"},[e._v("✔️ Add a new category")]),e._v(" "),n("div",{staticClass:"my-2 flex flex-wrap"},[n("div",{staticClass:"px-2 md:w-1/2"},[n("form",{staticClass:"p-2 bg-white rounded-lg",on:{submit:function(t){return t.preventDefault(),e.createCategory(t)}}},[n("label",{staticClass:"md:w-1/2 px-2 text-gray-700 text-sm font-bold mb-2"},[e._v("\n          Name\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCategory.name,expression:"newCategory.name"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{required:"",type:"text",placeholder:"Give it a cool name",maxlength:"25"},domProps:{value:e.newCategory.name},on:{input:function(t){t.target.composing||e.$set(e.newCategory,"name",t.target.value)}}})]),e._v(" "),n("label",{staticClass:"md:w-1/2 px-2 text-gray-700 text-sm font-bold mb-2"},[e._v("\n          Description of the category\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCategory.description,expression:"newCategory.description"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{required:"",type:"text",placeholder:"What can you tell about the category?"},domProps:{value:e.newCategory.description},on:{input:function(t){t.target.composing||e.$set(e.newCategory,"description",t.target.value)}}})]),e._v(" "),n("label",{staticClass:"md:w-1/2 px-2 text-gray-700 text-sm font-bold mb-2"},[e._v("\n          Image for the product\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCategory.image,expression:"newCategory.image"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"text",placeholder:"Enter a valir image URL!"},domProps:{value:e.newCategory.image},on:{input:function(t){t.target.composing||e.$set(e.newCategory,"image",t.target.value)}}})]),e._v(" "),n("input",{staticClass:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer",attrs:{type:"submit",value:"Add"}})])]),e._v(" "),n("div",{staticClass:"md:w-1/2"},[n("category",{attrs:{"category-data":e.newCategory,editable:!1}})],1)])])},[],!1,null,null,null).exports}}),w=Object(y.a)(v,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("category-list")],1)},[],!1,null,null,null);t.default=w.exports}}]);